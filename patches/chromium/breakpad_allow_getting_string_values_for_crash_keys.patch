From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Jeremy Apthorp <nornagon@nornagon.net>
Date: Tue, 5 May 2020 12:36:39 -0700
Subject: breakpad: allow getting string values for crash keys

Linux is currently recording both crashpad and breakpad keys on linux
(because upstream is experimenting with crashpad-on-linux). We can fetch
the string values for crashpad keys on win/mac, and they're easily
available on linux too, this just exposes them.

Should be upstreamed, or failing that, deleted once crashpad is enabled
on linux. If removing this patch doesn't cause a compile failure, it's
fine to delete!

diff --git a/components/crash/core/common/crash_key.h b/components/crash/core/common/crash_key.h
index a147e74c99e3b41f0cac4aa32be04d541cc74d06..c5c5a13bed2ee681282add83746e297404c440db 100644
--- a/components/crash/core/common/crash_key.h
+++ b/components/crash/core/common/crash_key.h
@@ -213,6 +213,10 @@ class CrashKeyStringCombined : public internal::CrashKeyStringCombinedImpl {
     crashpad_key_.Set(value);
   }
 
+  const base::StringPiece value() const {
+    return crashpad_key_.value();
+  }
+
  private:
   CrashKeyStringBreakpad<MaxLength> breakpad_key_;
   crashpad::StringAnnotation<MaxLength> crashpad_key_;
